var HttpClient=function(){this.response=null,this.interceptors=[],this.options={};var t=this;this.request=function(e,n,i,r){if(this.setOptions(r),"undefined"!=typeof viewiScopeData){var s=e.toLowerCase()+"_"+n+"_"+JSON.stringify(i);if(s in viewiScopeData)return new OnReady(function(t,e){t(viewiScopeData[s]),delete viewiScopeData[s]})}var o=ajax.request(e,n,i,this.options);if(this.interceptors.length>0){for(var u=null,c=null,a=null,l=null,h=null,p={success:!1,content:null,canceled:!1,headers:{},status:0},f=function(t){a.after=t,o.then(function(e){p.success=!0,p.content=e,t(a.next)},function(e){p.content=e,t(a.next)})},v=this.interceptors.length-1;v>=0;v--){var d=this.interceptors[v],H=d[0][d[1]];c={response:p,handle:f,onHandle:H,httpClient:t,reject:h,after:function(){},next:function(){this.previousHandler?this.previousHandler.after(this.previousHandler.next):p.success?l(p.content):h(p.content)}},a||(a=c),c.next=c.next.bind(c),u&&(c.nextHandler=u,u.previousHandler=c,c.handle=function(t){return function(e){t.previousHandler.after=e,t.onHandle(t)}}(u)),u=c}return new OnReady(function(t,e){l=t,h=e,c.reject=e,c.onHandle(c)})}return o},this.get=function(e,n){var i=t.request("GET",e,null,n);return i},this.post=function(e,n,i){var r=t.request("POST",e,n,i);return r},this.put=function(e,n,i){var r=t.request("PUT",e,n,i);return r},this.delete=function(e,n,i){var r=t.request("DELETE",e,n,i);return r},this.with=function(t){var e=new HttpClient;return e.interceptors=this.interceptors.slice(),e.interceptors.push(t),e},this.setOptions=function(t){for(var e in t)this.options[e]=t[e]}};