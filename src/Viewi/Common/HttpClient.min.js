var HttpClient=function(){this.response=null,this.interceptors=[],this.options={};var t=this;this.request=function(n,e,r,s){this.setOptions(s);var i=ajax.request(n,e,r,this.options);if(this.interceptors.length>0){for(var o=null,u=null,c=null,l=null,a=null,h={success:!1,content:null,canceled:!1,headers:{},status:0},p=function(t){c.after=t,i.then(function(n){h.success=!0,h.content=n,t(c.next)},function(n){h.content=n,t(c.next)})},f=this.interceptors.length-1;f>=0;f--){var d=this.interceptors[f],v=d[0][d[1]];u={response:h,handle:p,onHandle:v,httpClient:t,after:function(){},next:function(){this.previousHandler?this.previousHandler.after(this.previousHandler.next):h.success?l(h.content):a(h.content)}},c||(c=u),u.next=u.next.bind(u),o&&(u.nextHandler=o,o.previousHandler=u,u.handle=function(t){return function(n){t.previousHandler.after=n,t.onHandle(t)}}(o)),o=u}return new OnReady(function(t,n){l=t,a=n,u.onHandle(u)})}return i},this.get=function(n,e){var r=t.request("GET",n,null,e);return r},this.post=function(n,e,r){var s=t.request("POST",n,e,r);return s},this.put=function(n,e,r){var s=t.request("PUT",n,e,r);return s},this.delete=function(n,e,r){var s=t.request("DELETE",n,e,r);return s},this.with=function(t){var n=new HttpClient;return n.interceptors=this.interceptors.slice(),n.interceptors.push(t),n},this.setOptions=function(t){for(var n in t)this.options[n]=t[n]}};