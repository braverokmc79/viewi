var HttpClient=function(){this.response=null,this.interceptors=[],this.options={};var t=this;this.request=function(n,e,i,r){if(this.setOptions(r),"undefined"!=typeof viewiScopeData){var s=n.toLowerCase()+"_"+e+"_"+JSON.stringify(i);if(s in viewiScopeData)return new OnReady(function(t,n){t(viewiScopeData[s]),delete viewiScopeData[s]})}var o=ajax.request(n,e,i,this.options);if(this.interceptors.length>0){for(var u=null,a=null,c=null,l=null,h=null,p={success:!1,content:null,canceled:!1,headers:{},status:0},f=function(t){c.after=t,o.then(function(n){p.success=!0,p.content=n,t(c.next)},function(n){p.content=n,t(c.next)})},v=this.interceptors.length-1;v>=0;v--){var d=this.interceptors[v],H=d[0][d[1]];a={response:p,handle:f,onHandle:H,httpClient:t,after:function(){},next:function(){this.previousHandler?this.previousHandler.after(this.previousHandler.next):p.success?l(p.content):h(p.content)}},c||(c=a),a.next=a.next.bind(a),u&&(a.nextHandler=u,u.previousHandler=a,a.handle=function(t){return function(n){t.previousHandler.after=n,t.onHandle(t)}}(u)),u=a}return new OnReady(function(t,n){l=t,h=n,a.onHandle(a)})}return o},this.get=function(n,e){var i=t.request("GET",n,null,e);return i},this.post=function(n,e,i){var r=t.request("POST",n,e,i);return r},this.put=function(n,e,i){var r=t.request("PUT",n,e,i);return r},this.delete=function(n,e,i){var r=t.request("DELETE",n,e,i);return r},this.with=function(t){var n=new HttpClient;return n.interceptors=this.interceptors.slice(),n.interceptors.push(t),n},this.setOptions=function(t){for(var n in t)this.options[n]=t[n]}};